(* #GRAMMAR *)
(*
  Copyright Florian Hatat, Tom Hirschowitz, Pierre Hyvernat,
  Pierre-Etienne Meunier, Christophe Raffalli, Guillaume Theyssier 2012.

  This file is part of Patoline.

  Patoline is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Patoline is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Patoline.  If not, see <http://www.gnu.org/licenses/>.
*)

==========================================
  Mathematical symbols
------------------------------------------
  Pierre-Étienne Meunier, Tom Hirschowitz,
  Christophe Raffalli, …
==========================================

\Caml(open DefaultFormat)

\Verbose_Changes

=> Delimiters

(* From Asana font *)
\Add_left{ ( }(MathFonts.adjusted_asana_delimiters "(" [10;3346;3347;3348])
\Add_right{ ) }(MathFonts.adjusted_asana_delimiters ")" [11;3349;3350;3351])
\Add_left{ \{ }(MathFonts.adjusted_asana_delimiters "{" [93;3352;3353;3354])
\Add_right{ \} }(MathFonts.adjusted_asana_delimiters "}" [95;3355;3356;3357])
\Add_left{ [ }(MathFonts.adjusted_asana_delimiters "[" [61;3340;3341;3342])
\Add_right{ ] }(MathFonts.adjusted_asana_delimiters "]" [63;3343;3344;3345])
\Add_left{ \lbar \labs | }(MathFonts.adjusted_asana_delimiters  "|" [749;3316;3317;3318;3319])
\Add_right{ \rbar \rabs | }(MathFonts.adjusted_asana_delimiters "|" [749;3316;3317;3318;3319])
\Add_left{ \ldbar || }(MathFonts.adjusted_asana_delimiters "\\ldbar" [385;3308;3309;3310;3311])
\Add_right{ \rdbar || }(MathFonts.adjusted_asana_delimiters  "\\rdbar" [385;3308;3309;3310;3311])
\Add_left{\lceil ⌈}(MathFonts.adjusted_asana_delimiters "\\lceil" [974;3328;3329;3330])
\Add_right{\rceil ⌉}(MathFonts.adjusted_asana_delimiters "\\rceil" [975;3331;3332;3333])
\Add_left{\lfloor ⌊}(MathFonts.adjusted_asana_delimiters "\\lfloor" [976;3334;3335;3336])
\Add_right{\rfloor ⌋}(MathFonts.adjusted_asana_delimiters "\\rfloor" [977;3337;3338;3339])
\Add_left{\left_white_square_bracket \llbracket ⟦}(
	  MathFonts.fix_asana_delimiters "\\left_white_square_bracket" [3320;3321;3322;3323])
\Add_right{\right_white_square_bracket \rrbracket ⟧}(
	  MathFonts.fix_asana_delimiters "\\left_white_square_bracket" [3324;3325;3326;3327])
\Add_left{\orig_left_white_square_bracket} (List.map (MathFonts.asana "\\left_white_square_bracket")
					   [3320;3321;3322;3323])
\Add_right{\orig_right_white_square_bracket} (List.map (MathFonts.asana "\\right_white_square_bracket")
				      [3324;3325;3326;3327])
\Add_left{ ⌜ \ulcorner}( [MathFonts.asana "ulcorner" 980] )
\Add_right{ ⌝ \urcorner}( [MathFonts.asana "urcorner" 981] )
\Add_left{ \lbanana ⦅ }( [MathFonts.asana "lbanana" 1267] )
\Add_right{ \rbanana ⦆ }( [MathFonts.asana "rbanana" 1268] )
\Add_left{ \lhalfmoon ⦇ }( [MathFonts.asana "lhalfmoon" 1269] )
\Add_right{ \rhalfmoon ⦈ }( [MathFonts.asana "rhalfmoon" 1270] )
\Add_left{ \llangle }(MathFonts.adjusted_asana_delimiters "llangle" [1112;3220;3221;3222])
\Add_right{ \rrangle }(MathFonts.adjusted_asana_delimiters "rrangle" [1113;3223;3224;3225])	    

(* From Euler font *)
\Add_left{ \langle < ⟨}(MathFonts.adjusted_euler_delimiters "\\langle" [1803;1807(*;1809*);1811;1813])
\Add_right{ \rangle > ⟩}(MathFonts.adjusted_euler_delimiters "\\rangle" [1804;1808(*;1810*);1812;1814])


=<

=> Relation symbols

\Add_relation{\eq =}{=}
\Add_relation{\neq ≠ /=}{≠}
\Add_relation{\st \|}{|}
\Add_relation{:}{:}
\Add_relation{\in ∈}{∈}
\Add_relation{\notin ∉}{∉}
\Add_relation{\ni ∋}{∋}
\Add_relation{\notni ∌}{∌}
\Add_relation{\subseteq ⊆}{⊆}
\Add_relation{\supseteq ⊇}{⊇}
\Add_relation{\nosubseteq ⊈}{⊈}
\Add_relation{\nosupseteq ⊉}{⊉}
\Add_relation{\subset ⊂}{⊂}
\Add_relation{\supset ⊃}{⊃}
\Add_relation{\notsubset ⊄}{⊄}
\Add_relation{\notsupset ⊅}{⊅}
\Add_relation{\subsetneq ⊊}{⊊}
\Add_relation{\supsetneq ⊋}{⊋}
\Add_relation{\squaresub ⊏}(MathFonts.asana "⊏" 857)
\Add_relation{\squaresup ⊐}(MathFonts.asana "⊐" 858)
\Add_relation{\squaresubeq ⊑}{⊑}
\Add_relation{\squaresupeq ⊒}{⊒}
\Add_relation{\squaresubnoteq ⋤}(MathFonts.asana "⋤" 942)
\Add_relation{\squaresupnoteq ⋥}(MathFonts.asana "⋥" 943)
\Add_relation{\identical \equiv ≡}{≡}
\Add_relation{\notidentical \nequiv ≢}{≢}
\Add_relation{\almostequal ≈}{≈}
\Add_relation{≅ \cong \iso}{≅}
\Add_relation{≃ \simeq \equi}{≃}
\Add_relation{\notalmostequal ≉}{≉}
\Add_relation{∼ \sim}{∼}
\Add_relation{≜ \eqtriangle}(MathFonts.asana "≜" 806)
\Add_relation{≝ \eqbydef}(MathFonts.asana "≝" 807)


\Add_relation{\pitchfork ⋔}(MathFonts.asana "pitchfork" 1609)

\Add_relation{\leq <= ≤}{≤}
\Add_relation{\geq >= ≥}{≥}
\Add_relation{\lt <}{<}
\Add_relation{\gt >}{>}
\Add_relation{\eqdef =:}(MathFonts.asana "\\eqdef" 799)
\Add_relation{\defeq :=}(MathFonts.asana "\\defeq" 798)
\Add_relation{\bnfeq ::=}(MathFonts.asana "\\bnfeq" 1506)


\Add_relation{\succ ≻}(MathFonts.asana "\\succ" 837)
\Add_relation{\pred ≺}(MathFonts.asana "\\pred" 836)
\Add_relation{\succeq ≽}(MathFonts.asana "\\succeq" 839)
\Add_relation{\predeq ≼}(MathFonts.asana "\\predeq" 838)
\Add_relation{\unlhd ⊴}(MathFonts.asana "\\unlhd" 894)
\Add_relation{\unrhd ⊵}(MathFonts.asana "\\unrhd" 895)

\Add_relation{\realize \force ⊩}(MathFonts.asana "⊩" 883)
\Add_relation{\urealize}(MathFonts.asana "\\urealize" 884)
\Add_relation{\vdash ⊢ |-}{⊢}
\Add_relation{\models \entails ⊨ |=}(MathFonts.asana "\\models" 881)
\Add_relation{\triangleright ▹} ( MathFonts.asana "triangle right" 893 )

=<
=> Addition like symbols

\Add_addition_like{+}{+}
\Add_addition_like{\oplus ⊕}{⊕}
\Add_addition_like{\ominus ⊖}{⊖}
\Add_addition_like{-}{-}
\Add_addition_like{\pm}{±}
\Add_addition_like{\mp}{∓}
\Add_addition_like{\union \cup ∪}{∪}
\Add_addition_like{\inter \cap ∩}{∩}
\Add_addition_like{\squareinter \squarecap ⊓}(MathFonts.asana "⊓" 861)
\Add_addition_like{\squareunion \squarecup ⊔}(MathFonts.asana "⊔" 862)

\Add_addition_like{\mod}( fun env st->(Maths.glyphs "mod" (Maths.change_fonts env env.font) st) )
\Add_addition_like{\vee ∨}(MathFonts.asana "∨" 754)
\Add_addition_like{\setminus ∖}{∖}
\Add_addition_like{\uplus ⊎}{⊎}
\Add_addition_like{\parallel ∥}(MathFonts.asana "∥" 385)

=<

=> Product like symbols

\Add_product_like{\dot \cdot ⋅ ·}{⋅}
\Add_product_like{\diamond ⋄}{⋄}
\Add_product_like{\times ×}{×}
\Add_product_like{\over}{over} (* Donne une barre de fraction *)
\Add_product_like{/}{/}
\Add_product_like{\divide ÷}{÷}
\Add_product_like{\otimes ⊗}{⊗}
\Add_product_like{\odot ⊙}{⊙}
\Add_product_like{\bullet ∙}{∙}
\Add_product_like{\circ ∘}{∘}
\Add_product_like{\wedge \gcd ∧}(MathFonts.asana "∧" 753)
\Add_product_like{\ast ∗}{∗}
\Add_product_like{\seq}{;}
\Add_product_like{\para}{|}
\Add_product_like{\star ★ ⋆}(MathFonts.asana "⋆" 912)


=<

=> Connector symbols

\Add_connector{\land &&}(MathFonts.asana "∧" 753)
\Add_connector{\restriction ↾}(MathFonts.euler "↾" 248)
\Add_connector{\lor}(MathFonts.asana "∨" 754)

=<

=> Arrow symbols
(* Euler doesn't seem to have all the arrows we might want.
Wouldn't it be better to take all arrows from Asana-Math??? *)

\Add_arrow{==> \Longrightarrow ⟹}{⟹}
\Add_arrow{=> \Imply \Rightarrow ⇒}{⇒}
\Add_arrow{--> \longrightarrow ⟶}{⟶}
\Add_arrow{-> \imply \rightarrow →}{→}
\Add_arrow{\ImpliedBy \Leftarrow ⇐}{⇐}
\Add_arrow{<== \Longleftarrow ⟸}{⟸}
\Add_arrow{<- \impliedBy \leftarrow ←}{←}
\Add_arrow{<-- \longleftarrow ⟵}{⟵}
\Add_arrow{<=> \Equiv \Leftrightarrow ⇔}{⇔}
\Add_arrow{<==>\Longleftrightarrow ⟺}{⟺}
\Add_arrow{<--> \longleftrightarrow ⟷}{⟷}
\Add_arrow{<-> \equiv \leftrightarrow ↔}{↔}
\Add_arrow{|-> \mapsto ↦}(MathFonts.euler "↦" 243)
\Add_arrow{<-| \mapsfrom ↤}{↤}
\Add_arrow{\epi ->> ↠}(MathFonts.asana "↠" 618)
\Add_arrow{\mono >-> ↣}(MathFonts.asana "↣" 621)
\Add_arrow{\hookrightarrow \inj ↪}(MathFonts.euler "↪" 245)
\Add_arrow{\hookleftarrow \jni ↩}(MathFonts.euler "↩" 244)
\Add_arrow{\ulharpoon ↼}{↼}
\Add_arrow{\urharpoon ⇀}{⇀}
\Add_arrow{\dlharpoon ↽}{↽}
\Add_arrow{\drharpoon ⇁}{⇁}
\Add_arrow{\tostar}{→*}
\Add_arrow{↛ \nrightarrow}(MathFonts.asana "↛" 613)
\Add_arrow{⇏ \nRightarrow}(MathFonts.asana "⇏" 635)
\Add_arrow{\leadsto ↝}(MathFonts.asana "↝" 615)
\Add_arrow{\rtriangle}(MathFonts.asana "⇾" 712)
\Add_arrow{\ltriangle}(MathFonts.asana "⇽" 711)

=<

=> Punctuation symbols

\Add_punctuation{,}{,}
\Add_punctuation{;}{;}
\Add_punctuation{.}{.}

=<

=> Prefix symbols

\Add_prefix{+}{+}
\Add_prefix{-}{-}
\Add_prefix{\vdash ⊢ |-}{⊢}
\Add_relation{⊣ \dashv}{⊣}
\Add_prefix{\bar}{|}
\Add_prefix{\lnot \neg ¬}{¬}
\Add_prefix{↑ \uparrow}( MathFonts.asana "up arrow" 603 )
\Add_prefix{↓ \downarrow}( MathFonts.asana "down arrow" 605 )
\Add_prefix{\diverge}( MathFonts.asana "up arrow" 667 )
\Add_prefix{\converge}( MathFonts.asana "down arrow" 669 )
\Add_symbol{\Updownarrow ⇕}( MathFonts.asana "Updownarrow" 671 )

=<

=> Quantifiers

\Add_quantifier{\forall ∀}{∀}
\Add_quantifier{\exists ∃}{∃}
\Add_quantifier{\existsone ∃!}{∃!}

=<

=> Postfix and accent symbols

\Add_postfix{!}{!}
\Add_accent{* \words}(MathFonts.euler "'" 797)
\Add_accent{'}(MathFonts.euler "'" 196)
\Add_accent{''}(MathFonts.euler "'" 197)
\Add_accent{'''}(MathFonts.euler "'" 198)
\Add_accent{''''}(MathFonts.euler "'" 203)


=<

=> Lowercase Greek letters

\Add_symbol{\alpha α}{α}
\Add_symbol{\beta β}{β}
\Add_symbol{\gamma γ}{γ}
\Add_symbol{\delta δ}{δ}
\Add_symbol{\epsilon ϵ}{ϵ}
\Add_symbol{\varepsilon ε}{ε}
\Add_symbol{\zeta ζ}{ζ}
\Add_symbol{\eta η}{η}
\Add_symbol{\theta θ}{θ}
\Add_symbol{\iota ι}{ι}
\Add_symbol{\kappa κ}{κ}
\Add_symbol{\lambda λ}{λ}
\Add_symbol{\mu μ}{μ}
\Add_symbol{\nu ν}{ν}
\Add_symbol{\xi ξ}{ξ}
\Add_symbol{\omicron ο}{ο}
\Add_symbol{\pi π}{π}
\Add_symbol{\rho ρ}{ρ}
\Add_symbol{\sigma σ}{σ}
(*\Add_symbol{\varsigma ς}{ς}*)
\Add_symbol{\tau τ}{τ}
\Add_symbol{\upsilon υ}{υ}
\Add_symbol{\phi φ}{φ}
\Add_symbol{\varphi ϕ}{ϕ}
\Add_symbol{\chi χ}{χ}
\Add_symbol{\psi ψ}{ψ}
\Add_symbol{\omega ω}{ω}

=<

=> Uppercase Greek letters

\Add_symbol{\Alpha Α}{Α}
\Add_symbol{\Beta Β}{Β}
\Add_symbol{\Gamma Γ}{Γ}
\Add_symbol{\Delta Δ}{Δ}
\Add_symbol{\Epsilon Ε}{Ε}
\Add_symbol{\Zeta Ζ}{Ζ}
\Add_symbol{\Eta Η}{Η}
\Add_symbol{\Theta Θ}{Θ}
\Add_symbol{\Iota Ι}{Ι}
\Add_symbol{\Kappa Κ}{Κ}
\Add_symbol{\Lambda Λ}{Λ}
\Add_symbol{\Mu Μ}{Μ}
\Add_symbol{\Nu Ν}{Ν}
\Add_symbol{\Xi Ξ}{Ξ}
\Add_symbol{\Omicron Ο}{Ο}
\Add_symbol{\Pi Π}{Π}
\Add_symbol{\Rho Ρ}{Ρ}
\Add_symbol{\Sigma Σ}{Σ}
\Add_symbol{\Tau Τ}{Τ}
\Add_symbol{\Upsilon Υ}{Υ}
\Add_symbol{\Phi Φ}{Φ}
\Add_symbol{\Chi Χ}{Χ}
\Add_symbol{\Psi Ψ}{Ψ}
\Add_symbol{\Omega Ω}{Ω}

(*
\Add_symbol{\}{}
*)
=<

=> Gothic letters

\Add_symbol{\frakA 𝔄}(MathFonts.euler "𝔄" 518)
\Add_symbol{\frakB 𝔅}(MathFonts.euler "𝔅" 519)
\Add_symbol{\frakD 𝔇}(MathFonts.euler "𝔇" 520)
\Add_symbol{\frakE 𝔈}(MathFonts.euler "𝔈" 521)
\Add_symbol{\frakF 𝔉}(MathFonts.euler "𝔉" 522)
\Add_symbol{\frakG 𝔊}(MathFonts.euler "𝔊" 523)
\Add_symbol{\frakJ 𝔍}(MathFonts.euler "𝔍" 524)
\Add_symbol{\frakK 𝔎}(MathFonts.euler "𝔎" 525)
\Add_symbol{\frakL 𝔏}(MathFonts.euler "𝔏" 526)
\Add_symbol{\frakM 𝔐}(MathFonts.euler "𝔐" 527)
\Add_symbol{\frakN 𝔑}(MathFonts.euler "𝔑" 528)
\Add_symbol{\frakO 𝔒}(MathFonts.euler "𝔒" 529)
\Add_symbol{\frakP 𝔓}(MathFonts.euler "𝔓" 530)
\Add_symbol{\frakQ 𝔔}(MathFonts.euler "𝔔" 531)
\Add_symbol{\frakS 𝔖}(MathFonts.euler "𝔖" 532)
\Add_symbol{\frakT 𝔗}(MathFonts.euler "𝔗" 533)
\Add_symbol{\frakU 𝔘}(MathFonts.euler "𝔘" 534)
\Add_symbol{\frakV 𝔙}(MathFonts.euler "𝔙" 535)
\Add_symbol{\frakW 𝔚}(MathFonts.euler "𝔚" 536)
\Add_symbol{\frakX 𝔛}(MathFonts.euler "𝔛" 537)
\Add_symbol{\frakY 𝔜}(MathFonts.euler "𝔜" 538)

\Add_symbol{\fraka 𝔞}(MathFonts.euler "𝔞" 539)
\Add_symbol{\frakb 𝔟}(MathFonts.euler "𝔟" 540)
\Add_symbol{\frakc 𝔠}(MathFonts.euler "𝔠" 541)
\Add_symbol{\frakd 𝔡}(MathFonts.euler "𝔡" 542)
\Add_symbol{\frake 𝔢}(MathFonts.euler "𝔢" 543)
\Add_symbol{\frakf 𝔣}(MathFonts.euler "𝔣" 544)
\Add_symbol{\frakg 𝔤}(MathFonts.euler "𝔤" 545)
\Add_symbol{\frakh 𝔥}(MathFonts.euler "𝔥" 546)
\Add_symbol{\fraki 𝔦}(MathFonts.euler "𝔦" 547)
\Add_symbol{\frakj 𝔧}(MathFonts.euler "𝔧" 548)
\Add_symbol{\frakk 𝔨}(MathFonts.euler "𝔨" 549)
\Add_symbol{\frakl 𝔩}(MathFonts.euler "𝔩" 550)
\Add_symbol{\frakm 𝔪}(MathFonts.euler "𝔪" 551)
\Add_symbol{\frakn 𝔫}(MathFonts.euler "𝔫" 552)
\Add_symbol{\frako 𝔬}(MathFonts.euler "𝔬" 553)
\Add_symbol{\frakp 𝔭}(MathFonts.euler "𝔭" 554)
\Add_symbol{\frakq 𝔮}(MathFonts.euler "𝔮" 555)
\Add_symbol{\frakr 𝔯}(MathFonts.euler "𝔯" 556)
\Add_symbol{\fraks 𝔰}(MathFonts.euler "𝔰" 557)
\Add_symbol{\frakt 𝔱}(MathFonts.euler "𝔱" 558)
\Add_symbol{\fraku 𝔲}(MathFonts.euler "𝔲" 559)
\Add_symbol{\frakv 𝔳}(MathFonts.euler "𝔳" 560)
\Add_symbol{\frakw 𝔴}(MathFonts.euler "𝔴" 561)
\Add_symbol{\frakx 𝔵}(MathFonts.euler "𝔵" 562)
\Add_symbol{\fraky 𝔶}(MathFonts.euler "𝔶" 563)
\Add_symbol{\frakz 𝔷}(MathFonts.euler "𝔷" 564)

=<


=> Other symbols

(*\Add_symbol{\sharp}(Maths.glyphs "#")*)
\Add_symbol{\sharp ♯}(MathFonts.asana "♯" 1062)
\Add_symbol{\natural ♮}(MathFonts.asana "♮" 1061)
\Add_symbol{\flat ♭}(MathFonts.asana "♭" 1060)
\Add_symbol{\infty ∞}{∞}
\Add_symbol{\partial ∂}{∂}
\Add_symbol{\top ⊤}{⊤}
\Add_symbol{\bottom \bot ⊥}{⊥}
\Add_symbol{\dtop}(MathFonts.asana "\\dtop" 1626)
\Add_symbol{\dbottom \dbot \bbot}(MathFonts.asana "\\dbottom" 1625)
\Add_symbol{\emptyset ∅}{∅}
\Add_symbol{… ... \dots}{…}
\Add_symbol{\vdots ⋮}(MathFonts.asana "\\vdost" 952)
\Add_symbol{\wc —}(MathFonts.asana "wild card" 382)
\Add_symbol{\heartsuit}( MathFonts.asana "white heartsuit" 1051 )
\Add_symbol{⋯ \cdots}{⋯}
\Add_symbol{□ \wbox \wsquare}(MathFonts.asana "□" 1666)
\Add_symbol{■ \bbox \bsquare}(MathFonts.asana "■" 1665)
\Add_symbol{\nabla}(MathFonts.euler "nabla" 268)
\Add_symbol{✓ \checkmark}(MathFonts.asana "✔" 1069)

(* It seems Euler only has a glyph for alef, we'll use Asana-math instead
\Add_symbol{\alef ℵ}{ℵ}
\Add_symbol{\bet ℶ}{ℶ}
\Add_symbol{\gimel ℷ}{ℷ}
\Add_symbol{\dalet ℸ}{ℸ}
*)

\Add_symbol{\alef ℵ}(MathFonts.asana "ℵ" 533)
\Add_symbol{\bet ℶ}(MathFonts.asana "ℶ" 534)
\Add_symbol{\gimel ℷ}(MathFonts.asana "ℷ" 535)
\Add_symbol{\dalet ℸ}(MathFonts.asana "ℸ" 536)

\Add_symbol{\$}{$}

\Add_symbol{\ell ℓ}{ℓ}

\Add_symbol{\circl}(MathFonts.asana "\\circl" 644)
\Add_symbol{\circr}(MathFonts.asana "\\circr" 645)

=<

=> Black bold letters

\Add_symbol{\bbA}(MathFonts.ams "bbA" 66)
\Add_symbol{\bbB}(MathFonts.ams "bbB" 67)
\Add_symbol{\bbC ℂ}(MathFonts.ams "ℂ" 68)
\Add_symbol{\bbD}(MathFonts.ams "bbD" 69)
\Add_symbol{\bbE}(MathFonts.ams "bbE" 70)
\Add_symbol{\bbF}(MathFonts.ams "bbF" 71)
\Add_symbol{\bbG}(MathFonts.ams "bbG" 72)
\Add_symbol{\bbH ℍ}(MathFonts.ams "ℍ" 73)
\Add_symbol{\bbI}(MathFonts.ams "bbI" 74)
\Add_symbol{\bbJ}(MathFonts.ams "bbJ" 75)
\Add_symbol{\bbK 𝕂}(MathFonts.ams "bbK" 76)
\Add_symbol{\bbL}(MathFonts.ams "bbL" 77)
\Add_symbol{\bbM}(MathFonts.ams "bbM" 78)
\Add_symbol{\bbN ℕ}(MathFonts.ams "ℕ" 79)
\Add_symbol{\bbO}(MathFonts.ams "bbO" 80)
\Add_symbol{\bbP ℙ}(MathFonts.ams "ℙ" 81)
\Add_symbol{\bbQ ℚ}(MathFonts.ams "ℚ" 82)
\Add_symbol{\bbR ℝ}(MathFonts.ams "ℝ" 83)
\Add_symbol{\bbS}(MathFonts.ams "\\bbS" 84)
\Add_symbol{\bbT}(MathFonts.ams "\\bbT" 85)
\Add_symbol{\bbU}(MathFonts.ams "\\bbU" 86)
\Add_symbol{\bbV}(MathFonts.ams "\\bbV" 87)
\Add_symbol{\bbW}(MathFonts.ams "\\bbW" 88)
\Add_symbol{\bbX}(MathFonts.ams "\\bbX" 89)
\Add_symbol{\bbY}(MathFonts.ams "\\bbY" 90)
\Add_symbol{\bbZ ℤ}(MathFonts.ams "ℤ" 91)
\Add_symbol{\bb0 𝟘}(MathFonts.asana "𝟘" 2664)
\Add_symbol{\bb1 𝟙}(MathFonts.asana "𝟙" 2665)
\Add_symbol{\bb2 𝟚}(MathFonts.asana "𝟚" 2666)
\Add_symbol{\bb3 𝟛}(MathFonts.asana "𝟛" 2667)
\Add_symbol{\bb4 𝟜}(MathFonts.asana "𝟜" 2668)
\Add_symbol{\bb5 𝟝}(MathFonts.asana "𝟝" 2669)
\Add_symbol{\bb6 𝟞}(MathFonts.asana "𝟞" 2670)
\Add_symbol{\bb7 𝟟}(MathFonts.asana "𝟟" 2671)
\Add_symbol{\bb8 𝟠}(MathFonts.asana "𝟠" 2672)
\Add_symbol{\bb9 𝟡}(MathFonts.asana "𝟡" 2673)

=<

=> Calligraphic letters

\Add_symbol{\calA 𝒜}(MathFonts.asana "cal A" 1904)
\Add_symbol{\calB ℬ}(MathFonts.asana "cal B" 1905)
\Add_symbol{\calC 𝒞}(MathFonts.asana "cal C" 1906)
\Add_symbol{\calD 𝒟}(MathFonts.asana "cal D" 1907)
\Add_symbol{\calE ℰ}(MathFonts.asana "cal E" 1908)
\Add_symbol{\calF ℱ}(MathFonts.asana "cal F" 1909)
\Add_symbol{\calG 𝒢}(MathFonts.asana "cal G" 1910)
\Add_symbol{\calH ℋ}(MathFonts.asana "cal H" 1911)
\Add_symbol{\calI ℐ}(MathFonts.asana "cal I" 1912)
\Add_symbol{\calJ 𝒥}(MathFonts.asana "cal J" 1913)
\Add_symbol{\calK 𝒦}(MathFonts.asana "cal K" 1914)
\Add_symbol{\calL ℒ}(MathFonts.asana "cal L" 1915)
\Add_symbol{\calM ℳ}(MathFonts.asana "cal M" 1916)
\Add_symbol{\calN 𝒩}(MathFonts.asana "cal N" 1917)
\Add_symbol{\calO 𝒪}(MathFonts.asana "cal O" 1918)
\Add_symbol{\calP 𝒫}(MathFonts.asana "cal P" 1919)
\Add_symbol{\calQ 𝒬}(MathFonts.asana "cal Q" 1920)
\Add_symbol{\calR ℛ}(MathFonts.asana "cal R" 1921)
\Add_symbol{\calS 𝒮}(MathFonts.asana "cal S" 1922)
\Add_symbol{\calT 𝒯}(MathFonts.asana "cal T" 1923)
\Add_symbol{\calU 𝒰}(MathFonts.asana "cal U" 1924)
\Add_symbol{\calV 𝒱}(MathFonts.asana "cal V" 1925)
\Add_symbol{\calW 𝒲}(MathFonts.asana "cal W" 1926)
\Add_symbol{\calX 𝒳}(MathFonts.asana "cal X" 1927)
\Add_symbol{\calY 𝒴}(MathFonts.asana "cal Y" 1928)
\Add_symbol{\calZ 𝒵}(MathFonts.asana "cal Z" 1929)

=<

=> Operators

\Add_limits_operator{∑ \sum}(List.map (fun x -> vkern_percent_under (MathFonts.euler "∑" x) 0.20) [778;779])
\Add_limits_operator{∏ \prod}(List.map (fun x -> vkern_percent_under (MathFonts.euler "∏" x) 0.20) [780;781])
\Add_limits_operator{∐ \coprod}(List.map (fun x -> vkern_percent_under (MathFonts.euler "∐" x) 0.20) [784;785])
\Add_operator{∫ \int}(List.map (MathFonts.euler "∫") [782;783])
\Add_operator{∬ ∫∫ \dint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "∬" g) (MathFonts.euler "∫" g'))
				        [1823;1822] [782;783])
\Add_operator{∭ ∫∫∫ \tint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "∭" g) (MathFonts.euler "∫" g'))
				        [1824;1826] [782;783])
\Add_operator{⨌ \qint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "⨌" g) (MathFonts.euler "∫" g'))
				        [1825;1827] [782;783])
\Add_operator{∮ \oint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "∮" g) (MathFonts.euler "∫" g'))
				        [776;777] [782;783])
\Add_limits_operator{⋂ \biginter \bigcap}(List.map (fun x -> vkern_percent_under (MathFonts.euler "⋂" x) 0.20) [1761;1766;1768])
\Add_limits_operator{⋃ \bigunion \bigcup}(List.map (fun x -> vkern_percent_under (MathFonts.euler "⋃" x) 0.20) [1762;1765;1767])
\Add_limits_operator{\bigsquareinter \bigsquarecap}(List.map (MathFonts.asana "\\bigsquareinter") [3233;3234])
\Add_limits_operator{\bigsquareunion \bigsquarecup}(List.map (MathFonts.asana "\\bigsquareunion") [3235;3236])
\Add_limits_operator{\bigvee ⋁ \bigsup}(List.map (MathFonts.asana "\\bigvee") [3250;3251])
\Add_limits_operator{\bigwedge ⋀ \biginf}(List.map (MathFonts.asana "\\bigvee") [3248;3249])
\Add_limits_operator{\bigoplus}(List.map (MathFonts.asana "bigoplus") [1391])

=<

=> Combining symbols

\Add_combining{ ⃗ }{\vec}
\Add_combining{ ⃖ }{\cev}
\Add_combining{ ̅ }{\oline}
\Add_combining{˙ }{\od}
\Add_combining{¨ }{\odd}

\Configure_math_macro{\sqrt}{ arity = 1 name = Maths.sqrt }
\Configure_math_macro{\cal}{ arity = 1 name = mathcal }
\Configure_math_macro{\bold}{ arity = 1 name = mathbold }

\Configure_word_macro{\hspace}{ arity = 1 eat_right eat_left}
\Configure_math_macro{\hspace}{ arity = 1 name = mathSpace }

\Configure_word_macro{\vspaceBefore}{ arity = 1 eat_right eat_left }
\Configure_word_macro{\vspaceAfter}{ arity = 1 eat_right eat_left }

\Configure_word_macro{\linesBefore}{ arity = 1 eat_right eat_left }
\Configure_word_macro{\linesAfter}{ arity = 1 eat_right eat_left }

\Configure_paragraph_macro{\item}{ eat_right }
\Configure_paragraph_macro{\tableOfContents}{}

\Configure_word_macro{\break}{ eat_right eat_left }
\Configure_word_macro{\label}{ eat_right eat_left }
\Configure_word_macro{\hand}{ eat_right eat_left }
\Configure_word_macro{\sourcePosition}{ arity = 1 give_position }

\Configure_environment{genumerate}{ arg_1 = genumerate_item }

\Configure_word_macro{\diagram}{ is_identity
                                 arg_1 = diagram
                                 arg_1 no_parenthesis }

\Configure_word_macro{\hfill}{ eat_right
                               eat_left }

\Configure_math_macro{\color}{ name = mcolor }

=<

\Save_Grammar
